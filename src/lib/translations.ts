
export const translations = {
  KR: {
    homePageTitle: "ChuniCalc",
    languageToggleKR: "KR (한국어)",
    languageToggleJP: "JP (日本語)",
    // ChuniCalcForm
    formTitle: "ChuniCalc",
    formDescription: "츄니즘 성장 시뮬레이터.",
    nicknameLabel: "닉네임 (Chunirec User Name)",
    nicknamePlaceholder: "예: chunirec",
    fetchRatingButton: "조회",
    nicknameHelp: "Chunirec 닉네임을 입력하여 현재 레이팅을 조회합니다.",
    currentRatingLabel: "현재 레이팅",
    currentRatingPlaceholder: "Chunirec 유저명을 입력해 조회하세요",
    targetRatingLabel: "목표 레이팅",
    targetRatingPlaceholder: "예: 16.00",
    targetRatingHelp: "목표 레이팅을 입력하세요. (최대 17.50)",
    calculateButton: "계산 및 결과 보기",
    // AdvancedSettings
    advancedSettingsTitle: "고급 설정",
    advancedSettingsDesc: "앱 설정 및 개발자 도구를 관리합니다.",
    localApiKeyLabel: "로컬 API 키 참조 (선택 사항)",
    localApiKeyPlaceholder: "개인 Chunirec API 토큰 (참고용)",
    saveApiKeyButton: "로컬 참조용 API 키 저장/업데이트",
    localApiKeyHelpUpdated: "이곳에 API 키를 저장해두면 필요시 참조할 수 있습니다. 앱의 API 호출은 보안 프록시를 통하므로, 여기에 저장된 값은 실제 API 요청에 직접 사용되지 않습니다. 비우고 저장하면 제거됩니다.",
    adminNameLabel: "관리자 이름", 
    adminNamePlaceholder: "관리자 이름 입력", 
    adminPasswordLabel: "개발자 인증",
    adminPasswordPlaceholder: "비밀번호 입력",
    authenticateButton: "인증",
    authenticationFailedToast: "인증 실패. 이름 또는 비밀번호를 확인해주세요.", 
    authenticationSuccessToast: "개발자 인증 성공!",
    developerSectionTitle: "개발자 도구",
    developerToolsToggleShow: "개발자 도구 상세 표시",
    developerToolsToggleHide: "개발자 도구 상세 숨기기",
    developerModeActiveMessage: "개발자 모드가 활성화되었습니다. 페이지를 새로고침하면 재인증이 필요합니다.",
    goToApiTestPageButton: "API 테스트 페이지로 이동",
    goToSimulationTestPageButton: "시뮬레이션 테스트 페이지로 이동",
    manualCachingLabel: "수동 데이터 캐싱",
    cacheGlobalMusicButton: "전역 음악 목록 캐시 (music/showall)",
    cacheUserNicknameLabel: "캐시할 사용자 닉네임",
    cacheUserNicknamePlaceholder: "Chunirec 닉네임",
    cacheUserRecordsButton: "해당 사용자 기록 캐시 (records/showall)",
    clearLocalDataButton: "모든 앱 캐시 데이터 삭제",
    clearLocalDataHelp: "앱이 로컬 저장소에 저장한 모든 캐시 데이터 (UI 설정, API 응답 등)를 삭제합니다. 참조용 API 키는 삭제되지 않습니다.",
    contactInfoLabel: "문의 및 정보",
    contactInfoBugReport: "버그 리포트 및 기타 문의:",
    appVersion: "ChuniCalc v1.0.12", 
    // Toast Messages KR
    toastErrorApiKeyNotSet: "API 설정 오류",
    toastErrorApiKeyNotSetDesc: "Chunirec API 토큰이 설정되지 않았습니다. 고급 설정에서 로컬 토큰을 입력하거나 환경 변수를 확인해주세요.",
    toastErrorNicknameNeeded: "닉네임 필요",
    toastErrorNicknameNeededDesc: "닉네임을 입력해야 레이팅을 조회할 수 있습니다.",
    toastErrorApiKeyMissing: "API 토큰 없음",
    toastErrorApiKeyMissingDesc: "API 토큰이 설정되지 않아 레이팅을 조회할 수 없습니다. 고급 설정 또는 환경 변수를 확인해주세요.",
    toastErrorUserNotFound: "사용자 없음",
    toastErrorUserNotFoundDesc: (nickname: string) => `닉네임 '${nickname}'에 해당하는 사용자를 찾을 수 없거나 플레이 데이터가 없습니다.`,
    toastErrorAccessDenied: "접근 금지",
    toastErrorAccessDeniedDesc: (nickname: string, code?: number) => code ? `사용자 '${nickname}'의 데이터에 접근할 권한이 없습니다. (오류 코드: ${code})` : "비공개 사용자이거나 친구가 아니어서 접근할 수 없습니다.",
    toastErrorApiRequestFailed: "API 요청 실패",
    toastErrorApiRequestFailedDesc: (status: number, message?: string) => `API 요청 실패 (상태: ${status})${message ? `: ${message}` : ''}`,
    toastErrorApiLogicalError: "API 로직 오류",
    toastErrorApiLogicalErrorDesc: (message: string) => `API에서 오류를 반환했습니다: ${message}`,
    toastSuccessRatingFetched: "레이팅 조회 성공!",
    toastSuccessRatingFetchedDesc: (playerName: string, rating: string) => `'${playerName}'님의 현재 레이팅: ${rating}`,
    toastErrorInvalidRatingData: "데이터 오류",
    toastErrorInvalidRatingDataDesc: "레이팅 정보를 가져왔으나 형식이 올바르지 않거나, 플레이 데이터가 없습니다.",
    toastErrorRatingFetchFailed: "조회 실패",
    toastErrorRatingFetchFailedDesc: (errorMsg: string) => `레이팅을 가져오는 중 오류가 발생했습니다: ${errorMsg}`,
    toastErrorMissingInfo: "정보 부족",
    toastErrorMissingInfoDesc: "현재 레이팅(조회 필요)과 목표 레이팅을 모두 입력해주세요.",
    toastErrorInvalidInput: "잘못된 입력",
    toastErrorInvalidInputDesc: "레이팅은 숫자로 입력해야 합니다.",
    toastErrorCurrentRatingTooHigh: "현재 레이팅 너무 높음",
    toastErrorCurrentRatingTooHighDesc: "현재 레이팅이 17.50 이상입니다. 이 계산기에서는 더 이상 성장을 예측할 수 없습니다.",
    toastErrorInvalidRatingRange: "잘못된 레이팅 범위",
    toastErrorInvalidRatingRangeDesc: "현재 레이팅은 0.00-17.49, 목표 레이팅은 0.00-17.50 사이여야 합니다.",
    toastErrorTargetRating: "목표 레이팅 오류",
    toastErrorTargetRatingDesc: "목표 레이팅은 현재 레이팅보다 높아야 합니다.",
    toastSuccessLocalApiKeySaved: "로컬 참조용 API 키 저장됨",
    toastSuccessLocalApiKeyRemoved: "로컬 참조용 API 키 제거됨",
    toastSuccessLocalApiKeyRemovedDesc: "로컬 참조용 API 키가 비어있어 저장소에서 제거되었습니다.",
    toastSuccessLocalDataCleared: "앱 캐시 삭제 완료",
    toastSuccessLocalDataClearedDesc: (count: number) => `${count}개의 앱 관련 로컬 캐시 데이터가 삭제되었습니다.`,
    toastInfoCachingStarted: "캐싱 시작",
    toastInfoCachingStartedDesc: (target: string) => `${target}을(를) 가져오고 있습니다...`,
    toastSuccessGlobalMusicCached: "캐싱 성공",
    toastSuccessGlobalMusicCachedDesc: "전역 음악 목록이 로컬 저장소에 캐시되었습니다.",
    toastErrorGlobalMusicCacheFailed: "캐싱 실패",
    toastErrorGlobalMusicCacheFailedDesc: (errorMsg?: string) => errorMsg ? errorMsg : "전역 음악 목록 캐싱 중 오류 발생.",
    toastSuccessUserRecordsCached: "캐싱 성공",
    toastSuccessUserRecordsCachedDesc: (nickname: string) => `${nickname}님의 사용자 기록이 로컬 저장소에 캐시되었습니다.`,
    toastErrorUserRecordsCacheFailed: "캐싱 실패",
    toastErrorUserRecordsCacheFailedDesc: (errorMsg?: string) => errorMsg ? errorMsg : "사용자 기록 캐싱 중 오류 발생.",
    toastInfoLocalApiKeyRefMissingTitle: "로컬 참조 API 키 확인",
    toastInfoLocalApiKeyRefMissingDesc: "고급 설정에서 로컬 참조용 API 키가 설정되지 않았습니다. 실제 API 호출은 서버의 키를 사용하므로 이 설정이 필수는 아니지만, 설정 상태를 확인하는 것이 좋습니다. 문제가 발생하면 이 설정과 서버 API 키를 모두 확인해주세요.",
    // Result Page
    resultPageDefaultPlayerName: "플레이어",
    resultPageNotAvailable: "N/A",
    resultPageErrorApiTokenNotSetResult: "API 토큰이 설정되지 않았습니다. 곡 정보를 가져올 수 없습니다. 고급 설정에서 로컬 토큰을 입력하거나 환경 변수를 확인해주세요.",
    resultPageErrorNicknameNotProvidedResult: "사용자 닉네임이 제공되지 않아 데이터를 가져올 수 없습니다.",
    resultPageToastRefreshingDataTitle: "데이터 새로고침 중",
    resultPageToastRefreshingDataDesc: "사용자 관련 캐시를 지우고 API에서 최신 데이터를 가져옵니다.",
    resultPageSyncStatus: (timestamp: string) => `사용자 데이터 동기화: ${timestamp}`,
    resultPageSyncStatusNoCache: "캐시된 사용자 데이터가 없거나 만료되었습니다.",
    resultPageSyncStatusChecking: "동기화 상태 확인 중...",
    resultPageRefreshButton: "사용자 데이터 새로고침",
    resultPageStrategyTitle: "계산 전략 선택",
    resultPageStrategyB30Focus: "Best 30 집중 최적화", 
    resultPageStrategyN20Focus: "New 20 집중 최적화", 
    resultPageStrategyCombinedFloor: "전체 최적화 (저점 우선)", 
    resultPageStrategyCombinedPeak: "전체 최적화 (고점 우선)", 
    resultPageStrategyNone: "선택 안함",
    resultPageTabBest30: "Best 30",
    resultPageTabNew20: "New 20",
    resultPageTabCombined: "Best30 + New20",
    resultPageLoadingSongsTitle: "곡 데이터를 불러오는 중입니다...",
    resultPageLoadingCacheCheck: "캐시를 확인/갱신 중입니다...",
    resultPageLoadingApiFetch: "Chunirec API에서 데이터를 가져오고 있습니다. 잠시만 기다려주세요.",
    resultPageLoadingDataStateCheck: "데이터 상태 확인 중...",
    resultPageErrorLoadingTitle: "데이터 로딩 오류",
    resultPageErrorLoadingDesc: "입력한 닉네임이 정확한지, Chunirec에 데이터가 공개되어 있는지, 또는 API 토큰이 유효한지 확인해주세요. 문제가 지속되면 '데이터 새로고침' 버튼을 사용해보세요.",
    resultPageButtonBackToCalc: "메인 페이지로 돌아가기",
    resultPageCardTitleBest30: "Best 30 곡",
    resultPageCardTitleNew20: "New 20 곡",
    resultPageCardTitleCombined: "Best 30 + New 20 (통합 보기)",
    resultPageNoBest30Data: "Best 30 곡 데이터가 없습니다. (Chunirec API의 `rating_data.json` 응답을 확인해주세요)",
    resultPageNoNew20Data: "New 20 곡 데이터가 없습니다. 사용자가 NewSongs.json에 포함된 곡을 플레이하지 않았거나, 관련 API 데이터 로딩에 실패했을 수 있습니다. (콘솔 로그 확인)",
    resultPageSuspenseFallback: "결과 로딩 중...",
    resultPageToastApiLoadSuccessTitle: "데이터 로드 완료 (API)",
    resultPageToastApiLoadSuccessDesc: (timestamp: string) => `API에서 최신 데이터를 성공적으로 불러와 캐시했습니다. (${timestamp})`,
    resultPageToastCacheLoadSuccessDesc: "로컬 캐시에서 데이터를 성공적으로 불러왔습니다.",
    resultPageToastCacheLoadSuccessTitle: "데이터 로드 완료 (캐시)",
    resultPageHeaderCurrent: "현재:",
    resultPageHeaderTarget: "목표:",
    resultPageNoCombinedData: "Best 30 및 New 20 곡 데이터가 모두 없습니다.",
    resultPageErrorInvalidRatingsInput: "잘못된 레이팅 입력값입니다. 현재 또는 목표 레이팅을 확인해주세요.",
    resultPageLogNoStrategy: "계산 전략이 선택되지 않았습니다. 현재 곡 데이터를 표시합니다.",
    resultPageLogSimulationStarting: "시뮬레이션을 준비 중입니다...",
    resultPageErrorSimulationGeneric: (errorMsg: string) => `시뮬레이션 중 오류 발생: ${errorMsg}`,
    reachableRatingB30OnlyMessage: (rating: string) => `[Best 30 집중 모드] 현재 New 20 곡을 유지할 경우, Best 30 곡만으로 도달 가능한 최대 레이팅은 약 ${rating} 입니다. 목표 레이팅이 이보다 높으면 이 전략으로는 달성할 수 없습니다.`,
    reachableRatingN20OnlyMessage: (rating: string) => `[New 20 집중 모드] 현재 Best 30 곡을 유지할 경우, New 20 곡만으로 도달 가능한 최대 레이팅은 약 ${rating} 입니다. 목표 레이팅이 이보다 높으면 이 전략으로는 달성할 수 없습니다.`,
  },
  JP: {
    homePageTitle: "ChuniCalc",
    languageToggleKR: "KR (韓国語)",
    languageToggleJP: "JP (日本語)",
    formTitle: "ChuniCalc",
    formDescription: "チュウニズム成長シミュレーター。",
    nicknameLabel: "ユーザー名 (Chunirec User Name)",
    nicknamePlaceholder: "例: chunirec",
    fetchRatingButton: "読み込み",
    nicknameHelp: "Chunirecのユーザー名を入力して現在のレーティングを読み込みます。",
    currentRatingLabel: "現在レーティング",
    currentRatingPlaceholder: "Chunirecユーザー名を入力して読み込んでください",
    targetRatingLabel: "目標レーティング",
    targetRatingPlaceholder: "例: 16.00",
    targetRatingHelp: "目標レーティングを入力してください。(最大 17.50)",
    calculateButton: "計算および結果表示",
    advancedSettingsTitle: "高度な設定",
    advancedSettingsDesc: "アプリ設定と開発者ツールを管理します。",
    localApiKeyLabel: "ローカルAPIキー参照 (任意)",
    localApiKeyPlaceholder: "個人用 Chunirec API トークン (参照用)",
    saveApiKeyButton: "ローカル参照用APIキー保存/更新",
    localApiKeyHelpUpdated: "ここにAPIキーを保存しておくと、必要に応じて参照できます。アプリのAPI呼び出しは安全なプロキシ経由で行われるため、ここに保存された値は実際のAPIリクエストには直接使用されません。空にして保存すると削除されます。",
    adminNameLabel: "管理者名", 
    adminNamePlaceholder: "管理者名を入力", 
    adminPasswordLabel: "開発者認証",
    adminPasswordPlaceholder: "パスワード入力",
    authenticateButton: "認証",
    authenticationFailedToast: "認証失敗。名前またはパスワードを確認してください。", 
    authenticationSuccessToast: "開発者認証成功！",
    developerSectionTitle: "開発者ツール",
    developerToolsToggleShow: "開発者ツール詳細表示",
    developerToolsToggleHide: "開発者ツール詳細非表示",
    developerModeActiveMessage: "開発者モードが有効になりました。ページを更新すると再認証が必要です。",
    goToApiTestPageButton: "APIテストページへ移動",
    goToSimulationTestPageButton: "シミュレーションテストページへ移動",
    manualCachingLabel: "手動データキャッシング",
    cacheGlobalMusicButton: "グローバル曲リストキャッシュ (music/showall)",
    cacheUserNicknameLabel: "キャッシュするユーザーニックネーム",
    cacheUserNicknamePlaceholder: "Chunirec ニックネーム",
    cacheUserRecordsButton: "該当ユーザー記録キャッシュ (records/showall)",
    clearLocalDataButton: "全てのアプリキャッシュデータ削除",
    clearLocalDataHelp: "アプリがローカルストレージに保存した全てのキャッシュデータ（UI設定、API応答など）を削除します。参照用APIキーは削除されません。",
    contactInfoLabel: "お問い合わせと情報",
    contactInfoBugReport: "バグレポートおよびその他のお問い合わせ:",
    appVersion: "ChuniCalc v1.0.12", 
    toastErrorApiKeyNotSet: "API設定エラー",
    toastErrorApiKeyNotSetDesc: "Chunirec APIトークンが設定されていません。詳細設定でローカルトークンを入力するか、環境変数を確認してください。",
    toastErrorNicknameNeeded: "ユーザー名が必要です",
    toastErrorNicknameNeededDesc: "レーティングを読み込むにはユーザー名を入力してください。",
    toastErrorApiKeyMissing: "APIトークンがありません",
    toastErrorApiKeyMissingDesc: "APIトークンが設定されていないため、レーティングを読み込むことができません。詳細設定または環境変数を確認してください。",
    toastErrorUserNotFound: "ユーザーが見つかりません",
    toastErrorUserNotFoundDesc: (nickname: string) => `ユーザー名「${nickname}」のユーザーが見つからないか、プレイデータがありません。`,
    toastErrorAccessDenied: "アクセス拒否",
    toastErrorAccessDeniedDesc: (nickname: string, code?: number) => code ? `ユーザー「${nickname}」のデータへのアクセス権がありません。(エラーコード: ${code})` : "非公開ユーザーかフレンドではないためアクセスできません。",
    toastErrorApiRequestFailed: "APIリクエスト失敗",
    toastErrorApiRequestFailedDesc: (status: number, message?: string) => `APIリクエスト失敗 (ステータス: ${status})${message ? `: ${message}` : ''}`,
    toastErrorApiLogicalError: "APIロジックエラー",
    toastErrorApiLogicalErrorDesc: (message: string) => `APIからエラーが返されました: ${message}`,
    toastSuccessRatingFetched: "レーティング読み込み成功！",
    toastSuccessRatingFetchedDesc: (playerName: string, rating: string) => `「${playerName}」さんの現在レーティング: ${rating}`,
    toastErrorInvalidRatingData: "データエラー",
    toastErrorInvalidRatingDataDesc: "レーティング情報を取得しましたが、形式が正しくないか、プレイデータがありません。",
    toastErrorRatingFetchFailed: "読み込み失敗",
    toastErrorRatingFetchFailedDesc: (errorMsg: string) => `レーティング取得中にエラーが発生しました: ${errorMsg}`,
    toastErrorMissingInfo: "情報不足",
    toastErrorMissingInfoDesc: "現在レーティング(読み込み必要)と目標レーティングを両方入力してください。",
    toastErrorInvalidInput: "不正な入力",
    toastErrorInvalidInputDesc: "レーティングは数値で入力する必要があります。",
    toastErrorCurrentRatingTooHigh: "現在レーティングが高すぎます",
    toastErrorCurrentRatingTooHighDesc: "現在レーティングが17.50以上です。この計算機ではこれ以上の成長を予測できません。",
    toastErrorInvalidRatingRange: "不正なレーティング範囲",
    toastErrorInvalidRatingRangeDesc: "現在レーティングは0.00～17.49、目標レーティングは0.00～17.50の間である必要があります。",
    toastErrorTargetRating: "目標レーティングエラー",
    toastErrorTargetRatingDesc: "目標レーティングは現在レーティングより高くする必要があります。",
    toastSuccessLocalApiKeySaved: "ローカル参照用APIキー保存完了",
    toastSuccessLocalApiKeyRemoved: "ローカル参照用 APIキー削除完了",
    toastSuccessLocalApiKeyRemovedDesc: "ローカル参照用APIキーが空のため、ストレージから削除されました。",
    toastSuccessLocalDataCleared: "アプリキャッシュ削除完了",
    toastSuccessLocalDataClearedDesc: (count: number) => `${count}個のアプリ関連ローカルキャッシュデータが削除されました。`,
    toastInfoCachingStarted: "キャッシング開始",
    toastInfoCachingStartedDesc: (target: string) => `${target}を取得中です...`,
    toastSuccessGlobalMusicCached: "キャッシング成功",
    toastSuccessGlobalMusicCachedDesc: "グローバル曲リストがローカルストレージにキャッシュされました。",
    toastErrorGlobalMusicCacheFailed: "キャッシング失敗",
    toastErrorGlobalMusicCacheFailedDesc: (errorMsg?: string) => errorMsg ? errorMsg : "グローバル曲リストのキャッシング中にエラーが発生しました。",
    toastSuccessUserRecordsCached: "キャッシング成功",
    toastSuccessUserRecordsCachedDesc: (nickname: string) => `${nickname}さんのユーザー記録がローカルストレージにキャッシュされました。`,
    toastErrorUserRecordsCacheFailed: "キャッシング失敗",
    toastErrorUserRecordsCacheFailedDesc: (errorMsg?: string) => errorMsg ? errorMsg : "ユーザー記録のキャッシング中にエラーが発生しました。",
    toastInfoLocalApiKeyRefMissingTitle: "ローカル参照APIキー確認",
    toastInfoLocalApiKeyRefMissingDesc: "詳細設定でローカル参照用APIキーが設定されていません。実際のAPI呼び出しはサーバーのキーを使用するため、この設定は必須ではありませんが、設定状態を確認することをお勧めします。問題が発生した場合は、この設定とサーバーAPIキーの両方を確認してください。",
    // Result Page
    resultPageDefaultPlayerName: "プレイヤー",
    resultPageNotAvailable: "N/A",
    resultPageErrorApiTokenNotSetResult: "APIトークンが設定されていません。曲情報を取得できません。詳細設定でローカルトークンを入力するか、環境変数を確認してください。",
    resultPageErrorNicknameNotProvidedResult: "ユーザーニックネームが提供されていないため、データを取得できません。",
    resultPageToastRefreshingDataTitle: "データ更新中",
    resultPageToastRefreshingDataDesc: "ユーザー関連キャッシュをクリアし、APIから最新データを取得します。",
    resultPageSyncStatus: (timestamp: string) => `ユーザーデータ同期: ${timestamp}`,
    resultPageSyncStatusNoCache: "キャッシュされたユーザーデータがないか、期限切れです。",
    resultPageSyncStatusChecking: "同期状態確認中...",
    resultPageRefreshButton: "ユーザーデータ更新",
    resultPageStrategyTitle: "計算戦略選択",
    resultPageStrategyB30Focus: "Best 30 集中最適化", 
    resultPageStrategyN20Focus: "New 20 集中最適化", 
    resultPageStrategyCombinedFloor: "全体最適化 (低点優先)", 
    resultPageStrategyCombinedPeak: "全体最適化 (高点優先)", 
    resultPageStrategyNone: "選択なし",
    resultPageTabBest30: "Best 30",
    resultPageTabNew20: "New 20",
    resultPageTabCombined: "Best30 + New20",
    resultPageLoadingSongsTitle: "曲データを読み込んでいます...",
    resultPageLoadingCacheCheck: "キャッシュを確認/更新中です...",
    resultPageLoadingApiFetch: "Chunirec APIからデータを取得しています。しばらくお待ちください。",
    resultPageLoadingDataStateCheck: "データ状態確認中...",
    resultPageErrorLoadingTitle: "データ読み込みエラー",
    resultPageErrorLoadingDesc: "入力したニックネームが正しいか、Chunirecにデータが公開されているか、またはAPIトークンが有効か確認してください。問題が解決しない場合は、「ユーザーデータ更新」ボタンを使用してみてください。",
    resultPageButtonBackToCalc: "メインページへ戻る",
    resultPageCardTitleBest30: "Best 30 曲",
    resultPageCardTitleNew20: "New 20 曲",
    resultPageCardTitleCombined: "Best 30 + New 20 (統合表示)",
    resultPageNoBest30Data: "Best 30 曲データがありません。(Chunirec APIの`rating_data.json`応答を確認してください)",
    resultPageNoNew20Data: "New 20 曲データがありません。ユーザーがNewSongs.jsonに含まれる曲をプレイしていないか、関連APIデータの読み込みに失敗した可能性があります。(コンソールログ確認)",
    resultPageSuspenseFallback: "結果読み込み中...",
    resultPageToastApiLoadSuccessTitle: "データロード完了 (API)",
    resultPageToastApiLoadSuccessDesc: (timestamp: string) => `APIから最新データを正常にロードしキャッシュしました。(${timestamp})`,
    resultPageToastCacheLoadSuccessDesc: "ローカルキャッシュからデータを正常にロードしました。",
    resultPageToastCacheLoadSuccessTitle: "データロード完了 (キャッシュ)",
    resultPageHeaderCurrent: "現在:",
    resultPageHeaderTarget: "目標:",
    resultPageNoCombinedData: "Best 30 および New 20 曲データが両方ともありません。",
    resultPageErrorInvalidRatingsInput: "無効なレーティング入力値です。現在または目標レーティングを確認してください。",
    resultPageLogNoStrategy: "計算戦略が選択されていません。現在の曲データを表示します。",
    resultPageLogSimulationStarting: "シミュレーションを準備中です...",
    resultPageErrorSimulationGeneric: (errorMsg: string) => `シミュレーション中にエラー発生: ${errorMsg}`,
    reachableRatingB30OnlyMessage: (rating: string) => `[Best 30 集中モード] 現在 New 20 曲を維持する場合、Best 30 曲のみで到達可能な最大レーティングは約 ${rating} です。目標レーティングがこれより高い場合、この戦略では達成できません。`,
    reachableRatingN20OnlyMessage: (rating: string) => `[New 20 集中モード] 現在 Best 30 曲を維持する場合、New 20 曲のみで到達可能な最大レーティングは約 ${rating} です。目標レーティングがこれより高い場合、この戦略では達成できません。`,
  }
};

export type Locale = keyof typeof translations;

type BaseTranslationKeys = keyof typeof translations['KR'];

export type TranslationFunction<P extends any[] = any[], R = string> = (...args: P) => R;

export type TranslationValues = {
  [K in BaseTranslationKeys]: (typeof translations)['KR'][K] extends TranslationFunction<infer P, infer R>
    ? TranslationFunction<P, R>
    : string;
};

type TranslationArgs<L extends Locale, K extends keyof typeof translations[L]> =
  typeof translations[L][K] extends TranslationFunction<infer P, any> ? P : [];

export function getTranslation<L extends Locale, K extends keyof typeof translations[L]>(
  locale: L,
  key: K,
  ...args: TranslationArgs<L, K>
): string {
  const primaryTranslations = translations[locale] || translations.KR;
  let messageOrFn = primaryTranslations[key as keyof typeof primaryTranslations];

  if (messageOrFn === undefined && locale !== 'KR') {
    const fallbackTranslations = translations.KR;
    messageOrFn = fallbackTranslations[key as keyof typeof fallbackTranslations];
  }

  if (messageOrFn === undefined) {
    // If a default value was provided in the component, use it.
    // The last arg might be a default string if the key wasn't found.
    const defaultText = args.length > 0 && typeof args[args.length -1] === 'string' && !Object.keys(primaryTranslations).includes(args[args.length -1] as K) ? args[args.length -1] as string : String(key);
    console.warn(`[Translation] Key "${String(key)}" not found in locale "${locale}" or fallback "KR". Using default: "${defaultText}"`);
    return defaultText;
  }

  if (typeof messageOrFn === 'function') {
    return (messageOrFn as TranslationFunction<any[], string>)(...args.slice(0, messageOrFn.length));
  }
  return messageOrFn as string;
}

export type GetTranslationFn = typeof getTranslation;
export type AllTranslationsType = typeof translations;
export type KRTranslationKey = keyof AllTranslationsType['KR'];
export type LocaleType = {
  [K in KRTranslationKey]: AllTranslationsType['KR'][K];
};

    
